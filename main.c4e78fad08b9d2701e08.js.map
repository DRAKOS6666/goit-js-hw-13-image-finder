{"version":3,"sources":["webpack:///./modules/apiService.js","webpack:///./modules/notifier.js","webpack:///./index.js","webpack:///./templates/gallery.hbs"],"names":["apiService","searchQuery","pageNumber","perPage","fetch","then","res","json","catch","err","notify","console","log","toastr","require","options","closeButton","debug","newestOnTop","progressBar","positionClass","preventDuplicates","onclick","showDuration","hideDuration","timeOut","extendedTimeOut","showEasing","hideEasing","showMethod","hideMethod","action","status","error","success","warning","debounce","basicLightbox","refs","pageNuber","searchContainer","document","querySelector","input","result","loadBtn","searchIcon","renderResult","string","insertAdjacentHTML","addEventListener","event","target","nodeName","create","dataset","src","alt","show","value","items","hits","length","gallery","blur","window","scrollBy","top","innerHeight","left","behavior","innerHTML","key","preventDefault","scrollY","classList","contains","add","style","visibility","position","remove","focus","setSelectionRange","Handlebars","module","exports","template","container","depth0","helpers","partials","data","alias1","lambda","alias2","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","nullContext","program","noop"],"mappings":"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","file":"main.c4e78fad08b9d2701e08.js","sourcesContent":["function apiService(searchQuery, pageNumber, perPage) {\r\n  return fetch(`\r\n    https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${pageNumber}&per_page=${perPage}&key=17903714-8f5ebcdc0900c0123ad2db8f4`)\r\n    .then(res => res.json())\r\n    .catch(err => {\r\n      notify('isError');\r\n      console.log(err);\r\n    });\r\n}\r\n\r\nexport default apiService;\r\n","import '../../node_modules/toastr/build/toastr.css';\r\nconst toastr = require('toastr');\r\n\r\ntoastr.options = {\r\n  closeButton: true,\r\n  debug: false,\r\n  newestOnTop: false,\r\n  progressBar: true,\r\n  positionClass: 'toast-bottom-right',\r\n  preventDuplicates: true,\r\n  onclick: null,\r\n  showDuration: '300',\r\n  hideDuration: '1000',\r\n  timeOut: '5000',\r\n  extendedTimeOut: '1000',\r\n  showEasing: 'swing',\r\n  hideEasing: 'linear',\r\n  showMethod: 'fadeIn',\r\n  hideMethod: 'fadeOut',\r\n};\r\n\r\nfunction notify(action, status = true) {\r\n  switch (action) {\r\n    case 'isEmpty':\r\n      if (!status) {\r\n        toastr.success('Successful search');\r\n      } else if (status) {\r\n        toastr.error(\r\n          'Enter text in the search box.',\r\n          'Empty search input form',\r\n        );\r\n      }\r\n      break;\r\n\r\n    case 'isToMany':\r\n      if (!status) {\r\n        toastr.success('It was found a couple of results.');\r\n      } else if (status) {\r\n        toastr.warning(\r\n          'Please enter a more specific query!',\r\n          'Too many matches found',\r\n        );\r\n      }\r\n      break;\r\n\r\n    case 'isError':\r\n      if (status) {\r\n        toastr.error('Try a different search query.', 'Search error');\r\n      }\r\n      break;\r\n\r\n    case 'isNotFound':\r\n      if (status) {\r\n        toastr.error('On your request nothing has been found', 'Nothing found');\r\n      }\r\n      break;\r\n\r\n    default:\r\n      console.log('Error. Unknow notify action: notify(action, status)');\r\n\r\n      break;\r\n  }\r\n}\r\n\r\nexport default notify;\r\n","import './styles.css';\r\nimport '../node_modules/basiclightbox/dist/basicLightbox.min.css';\r\nimport apiService from './modules/apiService';\r\nimport notify from './modules/notifier';\r\nimport gallery from './templates/gallery.hbs';\r\nconst debounce = require('lodash.debounce');\r\nconst basicLightbox = require('basiclightbox');\r\n\r\nconst refs = {\r\n  pageNuber: 1,\r\n  searchContainer: document.querySelector('.search-container'),\r\n  input: document.querySelector('.input-box'),\r\n  result: document.querySelector('.gallery'),\r\n  loadBtn: document.querySelector('.loadBtn'),\r\n  searchIcon: document.querySelector('.search-icon'),\r\n};\r\n\r\nconst handleInput = event => {\r\n  refs.result.innerHTML = '';\r\n  refs.pageNuber = 1;\r\n  apiService(event.target.value, 1, 12).then(items => {\r\n    renderResult(gallery(items.hits));\r\n  });\r\n};\r\n\r\nconst handleLoadButton = () => {\r\n  refs.pageNuber += 1;\r\n  apiService(refs.input.value, refs.pageNuber, 12).then(items => {\r\n    if (items.hits.length === 0) {\r\n      notify('isNotFound');\r\n      return;\r\n    }\r\n    renderResult(gallery(items.hits));\r\n    notify('isEmpty', false);\r\n    refs.loadBtn.blur();\r\n    window.scrollBy({\r\n      top: window.innerHeight - 70,\r\n      left: 0,\r\n      behavior: 'smooth',\r\n    });\r\n  });\r\n};\r\n\r\nconst handleClick = event => {\r\n  if (event.target.nodeName === 'IMG') {\r\n    basicLightbox\r\n      .create(\r\n        `<img src=\"${event.target.dataset.src}\" alt=\"${event.target.alt}\" />`,\r\n      )\r\n      .show();\r\n  }\r\n};\r\n\r\nconst handlePressButton = event => {\r\n  if (event.key === 'Enter' && event.target.value === '') {\r\n    event.preventDefault();\r\n    notify('isEmpty', true);\r\n  }\r\n  if (event.key === 'Enter' && event.target.value != '') {\r\n    event.preventDefault();\r\n  }\r\n};\r\n\r\nconst renderResult = string => {\r\n  refs.result.insertAdjacentHTML('beforeend', string);\r\n};\r\n\r\nrefs.result.addEventListener('click', handleClick);\r\nrefs.loadBtn.addEventListener('click', handleLoadButton);\r\nrefs.input.addEventListener('input', debounce(handleInput, 500));\r\nrefs.input.addEventListener('keypress', handlePressButton);\r\nwindow.addEventListener('scroll', () => {\r\n  if (\r\n    window.scrollY > 240 &&\r\n    !refs.searchIcon.classList.contains('search-icon--visible')\r\n  ) {\r\n    refs.searchIcon.classList.add('search-icon--visible');\r\n    refs.searchIcon.style.visibility = 'visible';\r\n    refs.searchContainer.style.position = 'static';\r\n  } else if (window.scrollY < 240) {\r\n    refs.searchIcon.classList.remove('search-icon--visible');\r\n    refs.searchIcon.style.visibility = 'hidden';\r\n    refs.searchContainer.style.position = 'sticky';\r\n  }\r\n});\r\n\r\nrefs.searchIcon.addEventListener('click', () => {\r\n  if (refs.searchContainer.style.position === 'sticky') {\r\n    refs.searchContainer.style.position = 'static';\r\n    return;\r\n  } else if (refs.searchContainer.style.position === 'static')\r\n    refs.searchContainer.style.position = 'sticky';\r\n  refs.input.focus();\r\n  refs.input.setSelectionRange(0, -1);\r\n});\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"card-list-item\\\">\\r\\n\\r\\n<div class=\\\"photo-card\\\">\\r\\n  <img data-src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0), depth0))\n    + \"\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0), depth0))\n    + \"\\\" alt=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"tags\") : depth0), depth0))\n    + \"\\\" />\\r\\n\\r\\n  <div class=\\\"stats\\\">\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n      \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"likes\") : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">visibility</i>\\r\\n      \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"views\") : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">comment</i>\\r\\n      \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"comments\") : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n    <p class=\\\"stats-item\\\">\\r\\n      <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n      \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0), depth0))\n    + \"\\r\\n    </p>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":28,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}